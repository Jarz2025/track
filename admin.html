<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
            text-align: center;
        }
        .admin-table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        .admin-table th, .admin-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        .admin-table th {
            background-color: #3498db;
            color: white;
            font-weight: 500;
        }
        .admin-table tr:hover {
            background-color: #f9f9f9;
        }
        .action-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 5px;
        }
        .edit-btn {
            background-color: #f39c12;
            color: white;
        }
        .edit-btn:hover {
            background-color: #e67e22;
        }
        .delete-btn {
            background-color: #e74c3c;
            color: white;
        }
        .delete-btn:hover {
            background-color: #c0392b;
        }
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 5px;
        }
        .page-btn {
            padding: 8px 12px;
            border: 1px solid #ddd;
            background-color: white;
            cursor: pointer;
            border-radius: 4px;
        }
        .page-btn.active {
            background-color: #3498db;
            color: white;
            border-color: #3498db;
        }
        .page-btn:hover:not(.active) {
            background-color: #f1f1f1;
        }
        .stats-container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            flex: 1;
            text-align: center;
        }
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin: 10px 0;
        }
        .stat-label {
            color: #7f8c8d;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>Admin Dashboard</h1>
    
    <div class="stats-container">
        <div class="stat-card">
            <div class="stat-label">Total Links</div>
            <div class="stat-value" id="totalLinks">0</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Total Visits</div>
            <div class="stat-value" id="totalVisits">0</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Unique Visitors</div>
            <div class="stat-value" id="uniqueVisitors">0</div>
        </div>
    </div>
    
    <table class="admin-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="adminTableBody">
            <!-- Admin data will be loaded here -->
        </tbody>
    </table>
    
    <div class="pagination" id="pagination">
        <!-- Pagination buttons will be added here -->
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load stats
            updateStats();
            
            // Mock admin data
            const adminData = [
                { id: 1, name: 'Admin Utama', email: 'admin@example.com', role: 'Super Admin' },
                { id: 2, name: 'John Doe', email: 'john@example.com', role: 'Content Manager' },
                { id: 3, name: 'Jane Smith', email: 'jane@example.com', role: 'Analyst' },
                { id: 4, name: 'Robert Johnson', email: 'robert@example.com', role: 'Support' },
                { id: 5, name: 'Emily Davis', email: 'emily@example.com', role: 'Support' },
                { id: 6, name: 'Michael Brown', email: 'michael@example.com', role: 'Developer' },
                { id: 7, name: 'Sarah Wilson', email: 'sarah@example.com', role: 'Marketing' },
                { id: 8, name: 'David Taylor', email: 'david@example.com', role: 'Analyst' },
                { id: 9, name: 'Jessica Anderson', email: 'jessica@example.com', role: 'Content Manager' },
                { id: 10, name: 'Thomas Thomas', email: 'thomas@example.com', role: 'Support' }
            ];
            
            // Pagination variables
            const rowsPerPage = 5;
            let currentPage = 1;
            
            loadAdminData();
            
            function updateStats() {
                // Total links
                const links = JSON.parse(localStorage.getItem('trackingLinks') || '[]');
                document.getElementById('totalLinks').textContent = links.length;
                
                // Total visits and unique visitors
                const visits = JSON.parse(localStorage.getItem('trackingLogs') || '[]');
                document.getElementById('totalVisits').textContent = visits.length;
                
                // Count unique IPs (for demo we'll use userAgent as proxy)
                const uniqueAgents = [...new Set(visits.map(v => v.userAgent))];
                document.getElementById('uniqueVisitors').textContent = uniqueAgents.length;
            }
            
            function loadAdminData(page = 1) {
                currentPage = page;
                const tableBody = document.getElementById('adminTableBody');
                const pagination = document.getElementById('pagination');
                
                const startIdx = (page - 1) * rowsPerPage;
                const endIdx = startIdx + rowsPerPage;
                const paginatedData = adminData.slice(startIdx, endIdx);
                const totalPages = Math.ceil(adminData.length / rowsPerPage);
                
                tableBody.innerHTML = '';
                
                paginatedData.forEach(admin => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${admin.name}</td>
                        <td>${admin.email}</td>
                        <td>${admin.role}</td>
                        <td>
                            <button class="action-btn edit-btn" data-id="${admin.id}">Edit</button>
                            <button class="action-btn delete-btn" data-id="${admin.id}">Delete</button>
                        </td>
                    `;
                    tableBody.appendChild(row);
                });
                
                document.querySelectorAll('.edit-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = this.getAttribute('data-id');
                        alert(`Edit admin with ID ${id} (this is a demo)`);
                    });
                });
                
                document.querySelectorAll('.delete-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = this.getAttribute('data-id');
                        if (confirm(`Are you sure you want to delete admin with ID ${id}?`)) {
                            alert(`Admin with ID ${id} deleted (this is a demo)`);
                        }
                    });
                });
                
                pagination.innerHTML = '';
                
                if (page > 1) {
                    const prevBtn = document.createElement('button');
                    prevBtn.className = 'page-btn';
                    prevBtn.textContent = 'Previous';
                    prevBtn.addEventListener('click', () => loadAdminData(page - 1));
                    pagination.appendChild(prevBtn);
                }
                
                for (let i = 1; i <= totalPages; i++) {
                    const pageBtn = document.createElement('button');
                    pageBtn.className = `page-btn ${i === page ? 'active' : ''}`;
                    pageBtn.textContent = i;
                    pageBtn.addEventListener('click', () => loadAdminData(i));
                    pagination.appendChild(pageBtn);
                }
                
                if (page < totalPages) {
                    const nextBtn = document.createElement('button');
                    nextBtn.className = 'page-btn';
                    nextBtn.textContent = 'Next';
                    nextBtn.addEventListener('click', () => loadAdminData(page + 1));
                    pagination.appendChild(nextBtn);
                }
            }
        });
    </script>
</body>
</html>
